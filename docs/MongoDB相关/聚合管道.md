# 聚合管道实现表和表的关联查询

```shell
db.student.insertMany([
    { "name": "xiaoming", "gender": "m", "age": 20 },
    { "name": "xiaohong", "gender": "f", "age": 19 },
    { "name": "ruizhi", "gender": "f", "age": 25 },
    { "name": "pachong", "gender": "m", "age": 26 },
    { "name": "heihei", "gender": "f", "age": 88 },
    { "name": "miaomiao", "gender": "m", "age": 10 },
])

db.team.insertMany([
    {"teamName": "nandui", "teamMembers": ["xiaoming", "pachong", "miaomiao"]},
    {"teamName": "nvdui", "teamMembers": ["xiaohong", "ruizhi", "heihei"]}
])

db.team.aggregate([
    {
        $lookup:
          {
            from: "student",
            localField: "teamMembers",
            foreignField: "name",
            as: "members"
          }
     }
])
```


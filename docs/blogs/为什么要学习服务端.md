前端离不开服务端

为什么选择node.js







#### 什么是服务端,服务端的概念:

```自然语言
服务端又称为后端，server端，服务端为前端提供支持，是前端的根基
服务端的职责: 提供前端展示的数据，接收和存储前端提交的数据
```

服务端的表现形式

ajax调用的请求的接口就是服务端的一种表现形式

get请求获取数据，post提交数据

#### 前端

狭义上来讲是网页，广义上就是指各种客户端，如app，PC客户端等

------

#### 前端和服务端如何交互

http协议(hypertext transfer protocol)

规定了服务端和客户端如何通信，是互联网世界数据通讯的基石

通用：

```
url 后端接口的地址，即前端Ajax请求时的地址
method 请求方法，比如get post put delete head
状态码 接口返回的状态，如200 302 404 500
------
Request 请求
Request Body
Request Content-type 发送数据的格式，比如json
------
Response 响应
Response Body
Response Content-type
```

后端返回数据的格式，一般如下约定

```
errno :0  (error number 简写)
data:{...}
message:"错误的信息"
```

#### 服务端如何处理并返回数据

路由 ：定义前端请求的url规则

路由是规则，url是具体形式

```
router
路由是服务端的入口规则
路由包含：
定义method
定义url规则
定义输入和输出格式
```

用Request 获取数据，用Response返回数据

读取和储存数据

#### 数据库

```
数据库的基本操作：
新增，删除，修改，查询，查询条件，排序
```



为什么选择node.js作为服务端语言

```
不同的语言，语言语法和内置API，框架，工具包或软件包不同(如npm)


应掌握服务端的流程和套路，快速做出项目在实践中进步而不能囿于语言语法

选择nodejs的原因：
使用js语法，使用npm，只需要额外学习框架和API
而且nodejs已经被普及应用
```

#### 学习一门新技术的正确套路

1.找准范围

2.刻意训练

3.及时反馈（讨论，回答别人问题，做项目等）





### nodejs学习范围

```
nodejs基础知识，使用npm,处理http请求
//nodejs.cn
koa2框架
//koa.bootcss.com
mongodb数据库
```











#### npm

npm (nodejs package manager) 即nodejs 软件包管理者

官网 www.npmjs.com

```
npm install lodash --save //lodash对集合进行操作的包需要在代码中使用,安装到dependencies
npm install nodemon --save-dev  //nodemon,用于监控node.js源代码的变化并自动重启服务器，不会在代码中使用，安装到devDependencies

在 package.json 下，在script 下可以自定义指令
"dev1": "nodemon index.js"

之后可以使用 npm run dev1 来执行
```

------

#### ES6模块化  /  commonjs 模块化



```
// 回顾ES6模块化语法
export...或export default ...
import...from...
一般用于前端开发
```



```
commonjs模块化语法
module.exports = 
	导出多个时，可以导出对象 module.exports = {a,b,c}
require(...)
	导入时 const {a,b,c} = require('./xxx/xxx.js')
主要用于nodejs开发
require的三个级别:
	系统自带的模块 如：require('http')
	npm包 如：require('lodash')
	自定义模块 如： const a = require('./xxx/a.js')
require会自己区分模块是自带的还是怎么样的
像a.js这种带有路径的一般是自己自定义的
```



两者的区别

```
es6 Module 是打包时引入，静态的
commonjs 是执行时引入，是动态的
// 如何理解呢
	对于commonjs
	可以 
	let flag = true
	if(flag){
	const a = require('./xxxx/a.js')
	}
但是es6 Module不能在执行时引入，只能在顶部打包时就引入，不然会报错
```



###  为何要使用模块化

```
模块拆分快，便于代码的组织和管理
便于多人协作开发，各写各的互不干扰
成熟的语言都支持模块化
```











